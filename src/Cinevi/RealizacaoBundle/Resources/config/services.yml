services:
    # Voters
    cinevi.access.realizacao_projeto:
        class: Cinevi\RealizacaoBundle\Authorization\Voter\ProjetoVoter
        public: false
        arguments: ['@security.access.decision_manager']
        tags:
            - { name: security.voter }

    cinevi.access.realizacao_copia_final:
        class: Cinevi\RealizacaoBundle\Authorization\Voter\CopiaFinalVoter
        public: false
        arguments: ['@security.access.decision_manager']
        tags:
            - { name: security.voter }

    cinevi.access.realizacao_funcao:
        class: Cinevi\RealizacaoBundle\Authorization\Voter\FuncaoVoter
        public: false
        arguments: ['@security.access.decision_manager']
        tags:
            - { name: security.voter }

    # Form Types
    cinevi.realizacao.realizacao_type:
        class: Cinevi\RealizacaoBundle\Form\Type\RealizacaoType
        arguments: ['@doctrine.orm.entity_manager','@security.authorization_checker']
        tags:
            - { name: form.type, alias: view }

    cinevi.realizacao.projeto_type:
        class: Cinevi\RealizacaoBundle\Form\Type\ProjetoType
        arguments: ['@doctrine.orm.entity_manager']
        tags:
            - { name: form.type, alias: view }

    cinevi.realizacao.copia_final_type:
        class: Cinevi\RealizacaoBundle\Form\Type\CopiaFinalType
        arguments: ['@doctrine.orm.entity_manager','@security.authorization_checker']
        tags:
            - { name: form.type, alias: view }

    cinevi.realizacao.equipe_type:
        class: Cinevi\RealizacaoBundle\Form\Type\EquipeType
        arguments: ['@doctrine.orm.entity_manager']
        tags:
            - { name: form.type, alias: view }

    # Validation Groups
    cinevi.user_validation_factory:
        class: Cinevi\SecurityBundle\Validation\UserValidationGroupResolverFactory
        arguments: ['@security.authorization_checker']

    cinevi.user_validation:
        class: Cinevi\SecurityBundle\Validation\UserValidationGroupResolver
        factory: ['@cinevi.user_validation_factory', create]
