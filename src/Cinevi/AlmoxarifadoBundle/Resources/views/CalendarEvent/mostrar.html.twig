{% extends 'CineviAdminBundle:Crud:base-mostrar.html.twig' %}

{% set title = 'Reserva de Equipamento(s) ' ~ item.title %}
{% set routeListar = path('get_calendar_events') %}
{% set routeEditar = path('edit_calendar_event', { 'id': item.id }) %}

{% block maisBotoes %}
    {% block maisBotoesBlock %}{% endblock %}
    {% if is_granted('ROLE_ALMOXARIFADO') or item.user == app.user %}
        <div class="navbar-form navbar-nav">
            <a class="btn btn-info" href="{{ routeEditar }}">Editar</a>
        </div>
    {% endif %}
    {% if is_granted('ROLE_ALMOXARIFADO') or item.user == app.user %}
        {{ form_start(deleteForm, { 'attr' : { 'class': 'navbar-form navbar-left' } }) }}
            {{ form_row(deleteForm.remover) }}
        {{ form_end(deleteForm) }}
    {% endif %}
{% endblock %}

{% block dtdd %}
    <dt>Código</dt><dd>{{ item.title }}</dd>
    <div class="row">
        <div class="col-sm-6"><dt>Usuário</dt><dd><a href="{{ path('get_user', {id:item.user.id}) }}">{{ item.user.username }}</a></dd></div>
        <div class="col-sm-6">
            <dt>Projeto</dt>
            <dd><a href="{{ path('get_projeto', {id:item.projeto.id}) }}">{{ item.projeto.realizacao.titulo }}</a></dd>
        </div>
    </div>
    <div>
        <dt>Equipamentos</dt>
        {% for equipamento in item.equipamentos %}
            <dd><a href="{{ path('get_equipamento', {id : equipamento.id}) }}">{{ equipamento.nome }}</a></dd>
        {% endfor %}
    </div>
    <div class="row">
        <div class="col-sm-6"><dt>Data de Início</dt><dd>{{ item.startDate|date('d/m/Y') }}</dd></div>
        <div class="col-sm-6"><dt>Data de Fim</dt><dd>{{ item.endDate|date('d/m/Y') }}</dd></div>
    </div>
{% endblock %}
